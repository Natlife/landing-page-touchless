<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css"> <!-- Bootstrap3 adding -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/docs.css">
    
    <title>Documentation</title>
</head>
<body>
    <!-- navbar -->
    <nav class="navigate navbar navbar-inverse navbar-fixed-top" id="navbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <img class="navbar-brand" id="logo" src="/img/logo.jpg">
                <span class="navbar-brand" style="font-size: 30px; color: #000;"> touchless </span>
            </div>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="index.html"> home</a></li>
                <li><a href="docs.html"> documentation</a></li>
                <li><a href="download.html"> download</a></li>
                <li><a href="about.html"> about</a></li>
            </ul>
        </div>
    </nav>

    <div class="doc-body container">
        <h1 class="current-page">Documentation for Touchless</h1>
        <div class="content-page">
            <!-- <div class="title" id="title1">Tiêu đề 1</div>
            <div class="content" id="content1">Đây là nội dung ẩn cho tiêu đề 1.</div>
            
            <div class="title" id="title2">Tiêu đề 2</div>
            <div class="content" id="content2">Đây là nội dung ẩn cho tiêu đề 2.</div>
            
            <div class="title" id="title3">Tiêu đề 3</div>
            <div class="content" id="content3">Đây là nội dung ẩn cho tiêu đề 3.</div> -->

            <!-- Loading data tu GG sheet -->
        </div>
        
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function(){
            // using gg sheet with json data

            const ggSheetID = '1he_EsV7EVHyXwHK1zmtZOxQcfbLVUDE09DJRE8wmIbk'; 
            const url = `https://docs.google.com/spreadsheets/d/${ggSheetID}/gviz/tq?tqx=out:json`;

            fetch(url)
                .then(response => response.text())
                .then(data => {
                    const jsonData = JSON.parse(data.substring(47).slice(0, -2)); 
                    const rows = jsonData.table.rows;

                    // link title with content
                    rows.forEach((row, index) => {
                        const title = row.c[0] ? row.c[0].v : ''; 
                        const content = row.c[1] ? row.c[1].v : '';
                        // adding with id
                        const titleElement = $('<div class="title" id="title' + (index + 1) + '">' + title + '</div>');
                        const contentElement = $('<div class="content" id="content' + (index + 1) + '" style="display:none;">' + content + '</div>');
                        $('.content-page').append(titleElement);
                        $('.content-page').append(contentElement);
                    });
                    //click to title event
                    $(".title").click(function(){
                        // Lấy ID titel
                        var titleId = $(this).attr("id");
                        var contentId = "content" + titleId.charAt(titleId.length - 1);
                        // lấy id content ứng title
                        var content = $("#" + contentId);
                        if (content.is(":visible")) {
                            content.slideUp();
                        } else {
                            content.slideDown();
                        }
                    });
                });
            
        });
    </script>
</body>
</html>